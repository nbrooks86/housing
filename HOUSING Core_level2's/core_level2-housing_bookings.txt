DROP VIEW"CORE_LEVEL2"."HOUSING_BOOKINGS" ;
CREATE VIEW "CORE_LEVEL2"."HOUSING_BOOKINGS" AS
SELECT DISTINCT
	e.LAST_NAME,
	e.FIRST_NAME,
	e.SLCM_ID,
	e.ENTRY_ID,
	b.CHECKIN_DATE,
	b.CHECKOUT_DATE,
	b.CHECKIN_DATE_ACTUAL,
	b.CHECKOUT_DATE_ACTUAL,
	b.DATE_CHARGED_TO,
	b.CONTRACT_DATE_START,
	b.CONTRACT_DATE_END,
	b.DATE_MODIFIED_BILLING,
	b.DATE_MODIFIED,
	b.ENTRY_STATUS_CODE,
	b.TERM_SESSION_ID,
	b.ROOM_TYPE_ID,
	rs.ROOMSPACE_DESCRIPTION,
	rl.BUILDING_NAME,
	rl.BUILDING_NAME_SHORT,
	rl.ZIP_CODE,
	rsd.ROOMSPACE_NOTE_LLP,
	rsd.BUILDING_CODE,
	rs.ROOMSPACE_ID 
FROM "CORE_LEVEL1"."HOUSING_BOOKING" b 
INNER JOIN "CORE_LEVEL1"."HOUSING_ENTRY" e ON b.ENTRY_ID = e.ENTRY_ID 
LEFT OUTER JOIN "CORE_LEVEL1"."HOUSING_ROOMSPACE" rs ON b.ROOMSPACE_ID = rs.ROOMSPACE_ID 
LEFT OUTER JOIN "CORE_LEVEL1"."HOUSING_ROOMBASE" rb ON rs.ROOMBASE_ID = rb.ROOMBASE_ID 
LEFT OUTER JOIN "CORE_LEVEL1"."HOUSING_ROOMSPACE_DETAIL" rsd ON rsd.ROOMSPACE_ID = rs.ROOMSPACE_ID 
LEFT OUTER JOIN "CORE_LEVEL1"."HOUSING_ROOM_LOCATION" rl ON rb.ROOM_LOCATION_ID = rl.ROOM_LOCATION_ID WITH READ ONLY