DROP VIEW "CORE_LEVEL1"."HOUSING_BOOKING";
CREATE VIEW "CORE_LEVEL1"."HOUSING_BOOKING" AS
SELECT
	CAST(BOOKINGID AS NVARCHAR(8)) AS "BOOKING_ID" ,
	CAST(ROOMSPACEID AS NVARCHAR(8)) AS "ROOMSPACE_ID" ,
	CAST(ENTRYID AS NVARCHAR(8)) AS "ENTRY_ID" ,
	B.ENTRYSTATUSENUM AS "ENTRY_STATUS_CODE" ,
	S.DESCRIPTION AS "ENTRY_STATUS",
	ROOMTYPEID AS "ROOM_TYPE_ID" ,
	ROOMLOCATIONID AS "ROOM_LOCATION_ID" ,
	START_BOOKINGREASONID AS "START_BOOKING_REASON_CODE",
	END_BOOKINGREASONID AS "END_BOOKING_REASON_CODE",
	BOOKINGTYPEID AS "BOOKING_TYPE_CODE",
	ROOMRATEID AS "ROOM_RATE_CODE" ,
	BOOKINGLINKTYPEENUM AS "BOOKING_LINK_TYPE_CODE",
	TERMSESSIONID AS "TERM_SESSION_ID",
	--"HOUSEKEEPINGID" , ALL 0'S
	CASE WHEN "ROOMLOCATIONFIXED" = '1'
	THEN 'Y'
	ELSE 'N'
	END AS "IS_ROOM_LOCATION_FIXED",
	ROOMRATEAMOUNT AS "ROOM_RATE_AMOUNT",
	TO_DATE(CHECKINDATE) as "CHECKIN_DATE",
	TO_DATE(CHECKOUTDATE) as "CHECKOUT_DATE",
	CAST(ETA AS NVARCHAR(4)) AS "ESTIMATED_TIME_OF_ARRIVAL",
	CAST(ETD AS NVARCHAR(4)) AS "ESTIMATED_TIME_OF_DEPARTURE" ,
	TO_DATE(CHECKINDATEACTUAL) as "CHECKIN_DATE_ACTUAL",
	TO_DATE(CHECKOUTDATEACTUAL) as "CHECKOUT_DATE_ACTUAL",
	TO_DATE(DATECHARGEDTO) as "DATE_CHARGED_TO",
	TO_DATE(CONTRACTDATESTART) as "CONTRACT_DATE_START",
	TO_DATE(CONTRACTDATEEND) as "CONTRACT_DATE_END",
	RESVCHARGETOENTRY AS "RESERVE_CHARGE_TO_ENTRY" ,
	NUMBEROFGUESTS AS "NUMBER_OF_GUESTS",
	--NUMBEROFGUESTSFREE  , ALL 0'S
	NUMBEROFCHILDREN AS "NUMBER_OF_CHILDREN",
	--"NUMBEROFCHILDRENFREE" , ALL 0'S
	SPECIALREQUIREMENT AS "SPECIAL_REQUIREMENT" ,
	TO_DATE(DATEBILLED) as "DATE_BILLED",
	CUSTOMBIT1 AS "CUSTOM_BIT1" ,
	CUSTOMBIT2 AS "CUSTOM_BIT2" ,
	--"CUSTOMSTRING1" , ALL NULL
	--"CUSTOMSTRING2" , ALL NULL
	--"CUSTOMSTRING3" , ALL NULL
	--"CUSTOMSTRING4" , ALL NULL
	--"CUSTOMSTRING5" , ALL NULL
	--"CUSTOMSTRING6" , ALL NULL
	TO_DATE(CUSTOMDATE1) as "CUSTOM_DATE1",
	TO_DATE(CUSTOMDATE2) as "CUSTOM_DATE2",
	SECURITYUSERID AS "SECURITY_USER_ID" ,
	TO_DATE(DATEMODIFIEDBILLING) as "DATE_MODIFIED_BILLING",
	TO_DATE(DATEMODIFIED) as "DATE_MODIFIED",
	TO_DATE(DATECREATED) as "DATE_CREATED",
	CUSTOMBIT3 AS "CUSTOM_BIT3" ,
	CUSTOMBIT4 AS "CUSTOM_BIT4" ,
	--"CUSTOMSTRING7" , ALL NULL
	CUSTOMSTRING8 AS "CUSTOM_STRING8" ,
	CUSTOMSTRING9 AS "CUSTOM_STRING9" ,
	CUSTOMSTRING10 AS "CUSTOM_STRING10" ,
	--TO_DATE("CUSTOMDATE3") as CUSTOMDATE3, all null
	--TO_DATE("CUSTOMDATE4") as CUSTOMDATE4, all null
	GROUPID as "GROUP_ID"
	--"ENTRYINVITATIONID", all null
	--"VERSION" ALL 1'S
FROM "STARREZ"."BOOKING" B --Added by Chandini 06/2018 

LEFT JOIN "STARREZ"."ENTRYSTATUSENUM" S ON B.ENTRYSTATUSENUM = S.ENTRYSTATUSENUM WITH READ ONLY